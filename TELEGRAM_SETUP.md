# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–∞–ª–∞–Ω—Å–æ–≤

## 1. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

## 2. –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID

### –î–ª—è –≥—Ä—É–ø–ø—ã:
1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: `https://api.telegram.org/bot<BOT_TOKEN>/getUpdates`
4. –ù–∞–π–¥–∏—Ç–µ `chat.id` –≤ –æ—Ç–≤–µ—Ç–µ (–¥–ª—è –≥—Ä—É–ø–ø —ç—Ç–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)

### –î–ª—è –ª–∏—á–Ω–æ–≥–æ —á–∞—Ç–∞:
1. –ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: `https://api.telegram.org/bot<BOT_TOKEN>/getUpdates`
4. –ù–∞–π–¥–∏—Ç–µ `chat.id` –≤ –æ—Ç–≤–µ—Ç–µ

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª `.env`:

```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
```

## 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞:
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/admin/exchangers/balances`
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram"

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞:
```bash
# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –±–∞–ª–∞–Ω—Å—ã
php artisan telegram:send-balances

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
php artisan telegram:send-balances --provider=heleket

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±–º–µ–Ω–Ω–∏–∫–∞
php artisan telegram:send-balances --exchanger=obama

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –æ–±–º–µ–Ω–Ω–∏–∫–∞
php artisan telegram:send-balances --provider=heleket --exchanger=obama
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (cron):

–î–æ–±–∞–≤—å—Ç–µ –≤ `app/Console/Kernel.php`:

```php
protected function schedule(Schedule $schedule)
{
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤ –∫–∞–∂–¥—ã–π —á–∞—Å
    $schedule->command('telegram:send-balances')->hourly();
    
    // –ò–ª–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00
    $schedule->command('telegram:send-balances')->dailyAt('09:00');
}
```

## 5. –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

–°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- –î–∞—Ç—É –∏ –≤—Ä–µ–º—è
- –ë–∞–ª–∞–Ω—Å—ã –ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º (Heleket, Rapira)
- –ë–∞–ª–∞–Ω—Å—ã –ø–æ –æ–±–º–µ–Ω–Ω–∏–∫–∞–º (Obama, Ural)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–µ—Ä—á–∞–Ω—Ç –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è Heleket)
- –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –±–∞–ª–∞–Ω—Å–∞

–ü—Ä–∏–º–µ—Ä:
```
üí∞ –ë–∞–ª–∞–Ω—Å—ã –æ–±–º–µ–Ω–Ω–∏–∫–æ–≤ (25.01.2025 15:30)

üìä Heleket
  ‚îî Obama
    üíº –ú–µ—Ä—á–∞–Ω—Ç:
      üü¢ USDT: 1,234.56789000
      üî¥ BTC: -0.00123456
    üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
      üü¢ USDT: 567.89012300
      ‚ö™ ETH: 0.00000000

üìä Rapira
  ‚îî Ural
    üü¢ USDT: 2,345.67890100
    üü¢ BTC: 0.12345678
``` 
